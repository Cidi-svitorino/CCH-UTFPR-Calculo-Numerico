<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Código JS - Calculadora de Sistema Linear</title>
    <style>
        /* Reset básico */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #2e2e2e;
            line-height: 1.6;
        }

        /* Cabeçalho e Navegação */
        header {
            background-color: #0000006e;
            padding: 15px 0;
            text-align: center;
        }

        .logo {
            color: #71a4df;
            font-size: 24px;
            font-weight: bold;
        }

        nav {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav a:hover {
            background-color: #71a4df;
        }

        /* Conteúdo principal */
        main {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Estilo da área de código */
        pre {
            background-color: #f9f9f9;
            border: 1px solid #e1e1e1;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .logo {
            height: 80px;
            margin-right: 15px; 
            vertical-align: middle;
}
    </style>
</head>
<body>
    <header>
        <img src="logo.png" alt="Logo do site" class="logo">
        <nav>
            <a href="index.html">Início</a>
            <a href="about.html">Sobre</a>
            <a href="calculo.html">Cálculo</a>
            <a href="cod.html">Código JS</a>
        </nav>
    </header>

    <main>
        <h1>Código JavaScript da Calculadora</h1>
        <p>Abaixo está o código JavaScript utilizado para resolver sistemas lineares:</p>
        <pre>
            // Função para criar os inputs da matriz
            function createMatrixInputs() {
                const size = document.getElementById('size').value;
                const matrixInputs = document.getElementById('matrixInputs');
                matrixInputs.innerHTML = '';
        
                for (let i = 1; i <= size; i++) {
                    const row = document.createElement('div');
                    row.className = 'matrix-input';
                    for (let j = 1; j <= size; j++) {
                        row.innerHTML += `<input type="number" placeholder="A[${i}][${j}]">`;
                    }
                    matrixInputs.appendChild(row);
                }
            }
        
            // Função para criar os inputs do vetor b
            function createVectorBInputs() {
                const size = document.getElementById('size').value;
                const vectorBInputs = document.getElementById('vectorBInputs');
                vectorBInputs.innerHTML = '';
        
                for (let i = 1; i <= size; i++) {
                    vectorBInputs.innerHTML += `<input type="number" placeholder="b[${i}]">`;
                }
            }
        
            // Funções de decomposição e cálculo
            function luDecomposition(A) { /* código */ }
            function forwardSubstitution(L, b) { /* código */ }
            function backwardSubstitution(U, y) { /* código */ }
            function calculateDeterminant(U) { /* código */ }
        
            function calculate() {
                const size = parseInt(document.getElementById('size').value);
                const A = [];
                const b = [];
        
                const matrixInputs = document.querySelectorAll('#matrixInputs input');
                const vectorBInputs = document.querySelectorAll('#vectorBInputs input');
        
                for (let i = 1; i <= size; i++) {
                    const row = [];
                    for (let j = 1; j <= size; j++) {
                        row.push(parseFloat(matrixInputs[(i - 1) * size + (j - 1)].value));
                    }
                    A.push(row);
                }
        
                for (let i = 1; i <= size; i++) {
                    b.push(parseFloat(vectorBInputs[i - 1].value));
                }
        
                const { L, U } = luDecomposition(A);
                const y = forwardSubstitution(L, b);
                const x = backwardSubstitution(U, y);
                const detA = calculateDeterminant(U);
        
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <h3>Resultados:</h3>
                    <p><strong>(a)</strong> Matriz L:</p>
                    <pre>${JSON.stringify(L.map(row => row.map(value => value.toFixed(4))), null, 2)}</pre>
                    <p><strong>(b)</strong> Matriz U:</p>
                    <pre>${JSON.stringify(U.map(row => row.map(value => value.toFixed(4))), null, 2)}</pre>
                    <p><strong>(c)</strong> Determinante de A:</p>
                    <pre>${detA.toFixed(4)}</pre>
                    <p><strong>(d)</strong> Vetor y:</p>
                    <pre>${y.map(value => value.toFixed(4))}</pre>
                    <p><strong>(e)</strong> Vetor solução x:</p>
                    <pre>${x.map(value => value.toFixed(4))}</pre>
                `;
            }
        
            document.getElementById('size').addEventListener('input', () => {
                createMatrixInputs();
                createVectorBInputs();
            });
        
            createMatrixInputs();
            createVectorBInputs();
        </pre>
        <p>Abaixo está o código Ptyhon utilizado para resolver sistemas lineares:</p>            
        <pre>
           import numpy as np

# Função para decomposição LU de uma matriz A
def lu_decomposition(A):
    n = A.shape[0]  # Dimensão da matriz A
    L = np.zeros((n, n))  # Inicializa matriz L como uma matriz de zeros
    U = np.zeros((n, n))  # Inicializa matriz U como uma matriz de zeros
    
    # Preenche as matrizes L e U
    for i in range(n):
        # Calcula a linha i da matriz U
        for j in range(i, n):
            U[i, j] = A[i, j] - sum(L[i, k] * U[k, j] for k in range(i))
        
        # Calcula a coluna i da matriz L
        for j in range(i, n):
            if i == j:
                L[i, i] = 1  # Define 1 na diagonal principal de L
            else:
                L[j, i] = (A[j, i] - sum(L[j, k] * U[k, i] for k in range(i))) / U[i, i]
    
    return L, U  # Retorna as matrizes L e U

# Função para substituição direta (Forward Substitution) para resolver Ly = b
def forward_substitution(L, b):
    n = L.shape[0]  # Dimensão da matriz L
    y = np.zeros(n)  # Inicializa vetor y com zeros
    
    # Resolve Ly = b para y
    for i in range(n):
        y[i] = b[i] - sum(L[i, j] * y[j] for j in range(i))
    
    return y  # Retorna o vetor y

# Função para substituição inversa (Backward Substitution) para resolver Ux = y
def backward_substitution(U, y):
    n = U.shape[0]  # Dimensão da matriz U
    x = np.zeros(n)  # Inicializa vetor x com zeros
    
    # Resolve Ux = y para x
    for i in range(n-1, -1, -1):
        x[i] = (y[i] - sum(U[i, j] * x[j] for j in range(i+1, n))) / U[i, i]
    
    return x  # Retorna o vetor x, solução do sistema

# Define a matriz A e o vetor b como exemplo de entrada
A = np.array([[4, -2, 1],
              [-3, -1, 4],
              [1, -1, 3]], dtype=float)
b = np.array([15, 8, 13], dtype=float)

# Realiza a decomposição LU
L, U = lu_decomposition(A)

# Resolve Ly = b usando substituição direta
y = forward_substitution(L, b)

# Resolve Ux = y usando substituição inversa para encontrar a solução x
x = backward_substitution(U, y)

# Calcula o determinante de A como o produto dos elementos da diagonal de U
det_A = np.prod(np.diag(U))

# Exibe os resultados
print("Matriz L:\n", L)          # Imprime a matriz L
print("Matriz U:\n", U)          # Imprime a matriz U
print("Det(A):", det_A)          # Imprime o determinante de A
print("Solução do sistema:", x)  # Imprime a solução do sistema Ax = b

        </pre>
    </main>
</body>
</html>
